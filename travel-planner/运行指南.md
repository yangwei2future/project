# 旅游规划生成器运行指南

本文档提供了旅游规划生成器应用的详细安装和使用说明。

## 1. 开发环境配置

### 1.1 系统要求

- 操作系统：macOS、Windows 或 Linux
- Node.js：v14.0.0 或更高版本
- npm：v6.0.0 或更高版本
- 内存：至少 4GB RAM
- 硬盘空间：至少 500MB 可用空间

### 1.2 检查环境

在终端或命令提示符中运行以下命令检查您的 Node.js 和 npm 版本：

```bash
node -v
npm -v
```

如果未安装 Node.js，请从 [Node.js 官网](https://nodejs.org/) 下载并安装。

## 2. 项目安装

### 2.1 获取项目代码

1. 克隆项目仓库：

```bash
git clone https://github.com/yourusername/travel-planner.git
```

或者直接下载项目 ZIP 包并解压。

### 2.2 安装依赖

1. 打开终端或命令提示符，进入项目根目录：

```bash
cd travel-planner
```

2. 进入前端目录：

```bash
cd frontend
```

3. 安装项目依赖：

```bash
npm install
```

这一步将安装 React、Ant Design、Jotai、React Router 等所有必要的依赖库。安装过程可能需要几分钟时间，具体取决于您的网络速度。

## 3. 运行应用

### 3.1 开发模式运行

1. 在前端目录中启动开发服务器：

```bash
npm start
```

2. 命令执行后，应用将自动在默认浏览器中打开，访问地址为：`http://localhost:3000`

3. 如果浏览器没有自动打开，请手动打开浏览器并访问上述地址。

### 3.2 生产模式构建

如果您想构建生产环境版本，请运行：

```bash
npm run build
```

构建完成后，生成的文件将位于 `frontend/build` 目录中。您可以将这些文件部署到任何静态文件服务器上。

### 3.3 本地测试生产构建

构建完成后，您可以使用以下方法本地测试生产构建：

1. 全局安装 `serve` 工具：

```bash
npm install -g serve
```

2. 在 `build` 目录中运行服务器：

```bash
serve -s build
```

3. 访问 `http://localhost:5000` 查看生产版本。

## 4. 使用指南

启动应用后，您将看到以下页面和功能：

### 4.1 首页 - 城市选择

首页展示了各个城市的卡片，包括城市名称和简短描述。

**操作步骤：**
1. 浏览可用城市列表
2. 点击您感兴趣的城市卡片
3. 系统将跳转到该城市的详情页面

### 4.2 城市详情页 - 类别选择

城市详情页展示了该城市的旅游类别，如人文景观、自然景观、饮食文化等。

**操作步骤：**
1. 查看不同类别的描述和图标
2. 点击您感兴趣的类别卡片
3. 系统将跳转到该类别的详情页面

### 4.3 类别详情页 - 子类别选择

类别详情页展示了所选类别的子类别，如历史古迹、博物馆、传统建筑等。

**操作步骤：**
1. 浏览子类别列表及其描述
2. 点击任一子类别卡片上的"生成旅游规划"按钮
3. 系统将跳转到规划生成页面

### 4.4 规划生成页 - 生成进度

规划生成页展示了规划的生成进度，包括进度条和生成步骤。

**操作步骤：**
- 等待系统生成旅游规划（进度会实时更新）
- 生成完成后，系统会自动跳转到结果页面
- 如果想取消生成，点击"取消"按钮

### 4.5 结果页 - 规划展示

结果页展示了生成的详细旅游规划，包括行程安排、景点介绍、餐饮推荐等。

**操作选项：**
- **下载规划**：将规划内容下载为 Markdown 文件
- **复制内容**：将规划内容复制到剪贴板
- **保存规划**：将规划保存到服务器（需要后端支持）
- **返回首页**：返回首页重新选择城市

## 5. 数据说明

### 5.1 模拟数据

当前版本使用模拟数据进行演示，包括：
- 8个城市：北京、上海、杭州、成都、广州、西安、三亚、丽江
- 3个旅游类别：人文景观、自然景观、饮食文化
- 4个子类别：历史古迹、博物馆、传统建筑、传统表演

生成的旅游规划内容也是模拟数据，包含三天的行程安排。

### 5.2 连接实际API

如需连接到实际的后端API，请修改 `/frontend/src/services/api.ts` 文件：

1. 更新 `API_BASE_URL` 为您的实际 API 地址
2. 取消对实际 API 调用代码的注释，注释掉模拟数据代码

## 6. 路由说明

应用使用 React Router 进行路由管理，主要路由包括：

- `/` - 首页，城市选择
- `/city/:cityId` - 城市详情页，类别选择
- `/city/:cityId/category/:categoryId` - 类别详情页，子类别选择
- `/plan` - 规划生成页
- `/result` - 规划结果页

## 7. 疑难解答

### 7.1 常见问题

**问题：启动应用时出现"Port 3000 is already in use"错误**

解决方法：
1. 按 `Y` 使用其他端口（如3001）
2. 或找到并关闭占用3000端口的进程，然后重新启动应用

**问题：安装依赖时出现错误**

解决方法：
1. 确保网络连接正常
2. 尝试使用以下命令清除npm缓存后重新安装：
```bash
npm cache clean --force
npm install
```

**问题：页面显示空白或加载时间过长**

解决方法：
1. 检查浏览器控制台是否有错误信息
2. 确保您的浏览器已更新到最新版本
3. 尝试清除浏览器缓存和Cookie

### 7.2 技术支持

如果您遇到其他问题，请通过以下方式获取支持：

1. 在项目GitHub仓库中提交Issue
2. 发送邮件至技术支持邮箱：support@example.com
3. 查阅项目Wiki文档获取更多信息

## 8. 开发指南

如果您想参与项目开发或定制应用，请参考以下建议：

### 8.1 添加新城市

1. 在 `/frontend/src/services/api.ts` 文件的 `mockCities` 函数中添加新城市数据
2. 遵循现有数据结构，包含id、name和description字段

### 8.2 添加新类别或子类别

1. 在相应的mock函数中添加新的类别或子类别数据
2. 如需添加新的图标，请在 `CityDetailPage.tsx` 中的 `getCategoryInfo` 函数中进行配置

### 8.3 修改规划模板

如需修改生成的旅游规划模板格式，请编辑 `/frontend/src/services/api.ts` 文件中的 `mockPlan` 函数。

## 9. 后续开发计划

我们计划在未来版本中添加以下功能：

- 用户账户系统，支持规划收藏和分享
- 增加更多城市和景点数据
- 提供规划定制功能，如天数调整、预算限制等
- 集成地图功能，直观展示行程路线
- 增加多语言支持

欢迎您提供宝贵的建议和反馈，帮助我们改进这个旅游规划应用！ 